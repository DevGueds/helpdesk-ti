<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>DiagnÃ³stico do Menu</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    .test-box { background: white; padding: 20px; margin: 10px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .success { color: green; }
    .error { color: red; }
    .warning { color: orange; }
    code { background: #f0f0f0; padding: 2px 6px; border-radius: 3px; }
  </style>
</head>
<body>
  <h1>ğŸ” DiagnÃ³stico do Menu Lateral</h1>
  
  <div class="test-box">
    <h2>1. VerificaÃ§Ã£o do Servidor</h2>
    <p id="server-status">Testando conexÃ£o...</p>
  </div>
  
  <div class="test-box">
    <h2>2. VerificaÃ§Ã£o do CSS</h2>
    <p id="css-status">Verificando arquivo CSS...</p>
  </div>
  
  <div class="test-box">
    <h2>3. InstruÃ§Ãµes</h2>
    <ol>
      <li>Abra <code>http://localhost:3000</code> em uma nova aba</li>
      <li>FaÃ§a login como ADMIN</li>
      <li>Pressione <strong>Ctrl+Shift+R</strong> para limpar o cache</li>
      <li>Abra o Console do navegador (F12)</li>
      <li>Procure por erros em vermelho</li>
      <li>Tire um screenshot e me mostre</li>
    </ol>
  </div>
  
  <div class="test-box">
    <h2>4. Checklist de Problemas Comuns</h2>
    <ul>
      <li>â“ VocÃª estÃ¡ logado como ADMIN? (nÃ£o TECH ou REQUESTER)</li>
      <li>â“ VocÃª limpou o cache do navegador? (Ctrl+Shift+R)</li>
      <li>â“ O servidor estÃ¡ rodando sem erros?</li>
      <li>â“ VocÃª vÃª ALGUM menu lateral, ou nada aparece?</li>
    </ul>
  </div>
  
  <div class="test-box">
    <h2>5. O que vocÃª deveria ver</h2>
    <p>No menu lateral, vocÃª deveria ver:</p>
    <ul>
      <li>ğŸ“Š Dashboard (link normal)</li>
      <li>âš ï¸ <strong>Monitoramento</strong> (botÃ£o clicÃ¡vel com seta)</li>
      <li style="margin-left: 30px;">â†³ ğŸ”´ SLA Estourado</li>
      <li style="margin-left: 30px;">â†³ ğŸ—‘ï¸ Equipamentos Condenados</li>
      <li style="margin-left: 30px;">â†³ â³ Aguardando PeÃ§as</li>
      <li style="margin-left: 30px;">â†³ ğŸ›¡ï¸ Logs de Auditoria</li>
      <li>ğŸ“ GERÃŠNCIA (cabeÃ§alho)</li>
      <li>ğŸ“¦ Estoque (Insumos)</li>
      <li>ğŸ‘¥ UsuÃ¡rios</li>
      <li>... etc</li>
    </ul>
  </div>
  
  <script>
    // Test server connection
    fetch('/admin')
      .then(response => {
        if (response.ok || response.status === 302) {
          document.getElementById('server-status').innerHTML = 
            '<span class="success">âœ… Servidor estÃ¡ rodando!</span>';
        } else {
          document.getElementById('server-status').innerHTML = 
            '<span class="warning">âš ï¸ Servidor respondeu com status: ' + response.status + '</span>';
        }
      })
      .catch(error => {
        document.getElementById('server-status').innerHTML = 
          '<span class="error">âŒ Erro ao conectar ao servidor: ' + error.message + '</span>';
      });
    
    // Test CSS file
    fetch('/public/app.css')
      .then(response => {
        if (response.ok) {
          return response.text();
        }
        throw new Error('CSS nÃ£o encontrado');
      })
      .then(css => {
        const hasAccordion = css.includes('sidebar-accordion-header');
        const hasBadge = css.includes('sidebar-badge');
        
        if (hasAccordion && hasBadge) {
          document.getElementById('css-status').innerHTML = 
            '<span class="success">âœ… CSS do accordion estÃ¡ presente!</span>';
        } else {
          document.getElementById('css-status').innerHTML = 
            '<span class="warning">âš ï¸ CSS pode estar incompleto. Accordion: ' + 
            hasAccordion + ', Badge: ' + hasBadge + '</span>';
        }
      })
      .catch(error => {
        document.getElementById('css-status').innerHTML = 
          '<span class="error">âŒ Erro ao carregar CSS: ' + error.message + '</span>';
      });
  </script>
</body>
</html>
